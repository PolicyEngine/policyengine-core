Search.setIndex({docnames:["contributing/intro","intro","python_api/commons","python_api/country_template","python_api/data","python_api/data_storage","python_api/entities","python_api/enums","python_api/errors","python_api/experimental","python_api/extension_template","python_api/holders","python_api/parameters","python_api/periods","python_api/populations","python_api/projectors","python_api/reforms","python_api/scripts","python_api/simulations","python_api/taxbenefitsystems","python_api/taxscales","python_api/tools","python_api/tracers","python_api/types","python_api/variables","python_api/warnings","usage/cli","usage/country","usage/simulation"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":5,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.intersphinx":1,"sphinx.ext.viewcode":1,sphinx:56},filenames:["contributing/intro.md","intro.md","python_api/commons.md","python_api/country_template.md","python_api/data.md","python_api/data_storage.md","python_api/entities.md","python_api/enums.md","python_api/errors.md","python_api/experimental.md","python_api/extension_template.md","python_api/holders.md","python_api/parameters.md","python_api/periods.md","python_api/populations.md","python_api/projectors.md","python_api/reforms.md","python_api/scripts.md","python_api/simulations.md","python_api/taxbenefitsystems.md","python_api/taxscales.md","python_api/tools.md","python_api/tracers.md","python_api/types.md","python_api/variables.md","python_api/warnings.md","usage/cli.md","usage/country.ipynb","usage/simulation.ipynb"],objects:{"policyengine_core.commons.formulas":[[2,0,1,"","apply_thresholds"],[2,0,1,"","concat"],[2,0,1,"","switch"]],"policyengine_core.country_template":[[3,1,1,"","CountryTaxBenefitSystem"]],"policyengine_core.data":[[4,1,1,"","Dataset"],[4,1,1,"","PrivateDataset"],[4,1,1,"","PublicDataset"]],"policyengine_core.data.Dataset":[[4,2,1,"","build"],[4,3,1,"","country_package_name"],[4,2,1,"","exists"],[4,2,1,"","get_file_path"],[4,2,1,"","get_saved_datasets"],[4,3,1,"","label"],[4,2,1,"","load"],[4,3,1,"","name"],[4,3,1,"","options"],[4,2,1,"","remove"],[4,2,1,"","remove_all"],[4,2,1,"","write"]],"policyengine_core.data.PrivateDataset":[[4,3,1,"","bucket_name"],[4,2,1,"","download"],[4,3,1,"","filename_by_year"],[4,2,1,"","upload"]],"policyengine_core.data.PublicDataset":[[4,2,1,"","download"],[4,2,1,"","upload"],[4,3,1,"","url_by_year"]],"policyengine_core.data_storage.in_memory_storage":[[5,1,1,"","InMemoryStorage"]],"policyengine_core.data_storage.in_memory_storage.InMemoryStorage":[[5,2,1,"","delete"],[5,2,1,"","get"],[5,2,1,"","get_known_periods"],[5,2,1,"","get_memory_usage"],[5,3,1,"","is_eternal"],[5,2,1,"","put"]],"policyengine_core.data_storage.on_disk_storage":[[5,1,1,"","OnDiskStorage"]],"policyengine_core.data_storage.on_disk_storage.OnDiskStorage":[[5,2,1,"","delete"],[5,2,1,"","get"],[5,2,1,"","get_known_periods"],[5,2,1,"","put"],[5,2,1,"","restore"]],"policyengine_core.entities.entity":[[6,1,1,"","Entity"]],"policyengine_core.entities.entity.Entity":[[6,2,1,"","check_role_validity"],[6,2,1,"","check_variable_defined_for_entity"],[6,2,1,"","get_variable"],[6,2,1,"","set_tax_benefit_system"]],"policyengine_core.entities.group_entity":[[6,1,1,"","GroupEntity"]],"policyengine_core.entities.helpers":[[6,0,1,"","build_entity"]],"policyengine_core.entities.role":[[6,1,1,"","Role"]],"policyengine_core.enums.enum":[[7,1,1,"","Enum"]],"policyengine_core.enums.enum.Enum":[[7,2,1,"","encode"]],"policyengine_core.enums.enum_array":[[7,1,1,"","EnumArray"]],"policyengine_core.enums.enum_array.EnumArray":[[7,2,1,"","decode"],[7,2,1,"","decode_to_str"]],"policyengine_core.errors.nan_creation_error":[[8,1,1,"","NaNCreationError"]],"policyengine_core.errors.parameter_not_found_error":[[8,1,1,"","ParameterNotFoundError"]],"policyengine_core.errors.parameter_parsing_error":[[8,1,1,"","ParameterParsingError"]],"policyengine_core.errors.period_mismatch_error":[[8,1,1,"","PeriodMismatchError"]],"policyengine_core.errors.situation_parsing_error":[[8,1,1,"","SituationParsingError"]],"policyengine_core.errors.spiral_error":[[8,1,1,"","SpiralError"]],"policyengine_core.errors.variable_name_conflict_error":[[8,1,1,"","VariableNameConflictError"]],"policyengine_core.errors.variable_not_found_error":[[8,1,1,"","VariableNotFoundError"]],"policyengine_core.experimental.memory_config":[[9,1,1,"","MemoryConfig"]],"policyengine_core.holders.helpers":[[11,0,1,"","set_input_dispatch_by_period"],[11,0,1,"","set_input_divide_by_period"]],"policyengine_core.holders.holder":[[11,1,1,"","Holder"]],"policyengine_core.holders.holder.Holder":[[11,2,1,"","clone"],[11,2,1,"","create_disk_storage"],[11,2,1,"","default_array"],[11,2,1,"","delete_arrays"],[11,2,1,"","get_array"],[11,2,1,"","get_known_periods"],[11,2,1,"","get_memory_usage"],[11,2,1,"","put_in_cache"],[11,2,1,"","set_input"]],"policyengine_core.parameters.at_instant_like":[[12,1,1,"","AtInstantLike"]],"policyengine_core.parameters.at_instant_like.AtInstantLike":[[12,2,1,"","get_at_instant"]],"policyengine_core.parameters.helpers":[[12,0,1,"","contains_nan"],[12,0,1,"","load_parameter_file"]],"policyengine_core.parameters.parameter":[[12,1,1,"","Parameter"]],"policyengine_core.parameters.parameter.Parameter":[[12,2,1,"","clone"],[12,2,1,"","get_descendants"],[12,2,1,"","update"],[12,3,1,"","values_list"]],"policyengine_core.parameters.parameter_at_instant":[[12,1,1,"","ParameterAtInstant"]],"policyengine_core.parameters.parameter_at_instant.ParameterAtInstant":[[12,2,1,"","clone"],[12,2,1,"","validate"]],"policyengine_core.parameters.parameter_node":[[12,1,1,"","ParameterNode"]],"policyengine_core.parameters.parameter_node.ParameterNode":[[12,2,1,"","add_child"],[12,2,1,"","clone"],[12,2,1,"","get_descendants"],[12,2,1,"","merge"]],"policyengine_core.parameters.parameter_node_at_instant":[[12,1,1,"","ParameterNodeAtInstant"]],"policyengine_core.parameters.parameter_node_at_instant.ParameterNodeAtInstant":[[12,2,1,"","add_child"]],"policyengine_core.parameters.parameter_scale":[[12,1,1,"","ParameterScale"]],"policyengine_core.parameters.parameter_scale.ParameterScale":[[12,2,1,"","clone"],[12,2,1,"","get_descendants"]],"policyengine_core.parameters.parameter_scale_bracket":[[12,1,1,"","ParameterScaleBracket"]],"policyengine_core.parameters.vectorial_parameter_node_at_instant":[[12,1,1,"","VectorialParameterNodeAtInstant"]],"policyengine_core.parameters.vectorial_parameter_node_at_instant.VectorialParameterNodeAtInstant":[[12,2,1,"","build_from_node"],[12,2,1,"","check_node_vectorisable"]],"policyengine_core.periods.helpers":[[13,0,1,"","instant"],[13,0,1,"","period"]],"policyengine_core.periods.instant_":[[13,1,1,"","Instant"]],"policyengine_core.periods.instant_.Instant":[[13,4,1,"","date"],[13,4,1,"","day"],[13,4,1,"","month"],[13,2,1,"","offset"],[13,2,1,"","period"],[13,4,1,"","year"]],"policyengine_core.periods.period_":[[13,1,1,"","Period"]],"policyengine_core.periods.period_.Period":[[13,2,1,"","contains"],[13,4,1,"","date"],[13,4,1,"","days"],[13,4,1,"","first_day"],[13,4,1,"","first_month"],[13,2,1,"","get_subperiods"],[13,2,1,"","intersection"],[13,4,1,"","last_3_months"],[13,4,1,"","last_month"],[13,4,1,"","last_year"],[13,4,1,"","n_2"],[13,2,1,"","offset"],[13,4,1,"","size"],[13,4,1,"","size_in_days"],[13,4,1,"","size_in_months"],[13,4,1,"","start"],[13,4,1,"","stop"],[13,4,1,"","this_year"],[13,4,1,"","unit"]],"policyengine_core.populations.group_population":[[14,1,1,"","GroupPopulation"]],"policyengine_core.populations.group_population.GroupPopulation":[[14,2,1,"","all"],[14,2,1,"","any"],[14,2,1,"","clone"],[14,2,1,"","get_role"],[14,2,1,"","max"],[14,4,1,"","members_entity_id"],[14,4,1,"","members_position"],[14,4,1,"","members_role"],[14,2,1,"","min"],[14,2,1,"","nb_persons"],[14,4,1,"","ordered_members_map"],[14,2,1,"","project"],[14,2,1,"","reduce"],[14,2,1,"","sum"],[14,2,1,"","value_from_first_person"],[14,2,1,"","value_from_person"],[14,2,1,"","value_nth_person"]],"policyengine_core.populations.population":[[14,1,1,"","Population"]],"policyengine_core.populations.population.Population":[[14,2,1,"","check_array_compatible_with_entity"],[14,2,1,"","check_period_validity"],[14,2,1,"","clone"],[14,2,1,"","empty_array"],[14,2,1,"","filled_array"],[14,2,1,"","get_holder"],[14,2,1,"","get_index"],[14,2,1,"","get_memory_usage"],[14,2,1,"","get_rank"],[14,2,1,"","has_role"],[14,2,1,"","value_from_partner"]],"policyengine_core.projectors":[[15,1,1,"","EntityToPersonProjector"],[15,1,1,"","FirstPersonToEntityProjector"],[15,1,1,"","Projector"],[15,1,1,"","UniqueRoleToEntityProjector"]],"policyengine_core.reforms":[[16,1,1,"","Reform"]],"policyengine_core.reforms.Reform":[[16,2,1,"","modify_parameters"]],"policyengine_core.simulations.simulation":[[18,1,1,"","Simulation"]],"policyengine_core.simulations.simulation.Simulation":[[18,2,1,"","build_from_dataset"],[18,2,1,"","build_from_populations"],[18,2,1,"","calculate"],[18,2,1,"","calculate_add"],[18,2,1,"","calculate_dataframe"],[18,2,1,"","calculate_divide"],[18,2,1,"","calculate_output"],[18,2,1,"","clone"],[18,2,1,"","create_shortcuts"],[18,4,1,"","data_storage_dir"],[18,2,1,"","delete_arrays"],[18,2,1,"","describe_entities"],[18,2,1,"","get_array"],[18,2,1,"","get_entity"],[18,2,1,"","get_holder"],[18,2,1,"","get_known_periods"],[18,2,1,"","get_memory_usage"],[18,2,1,"","get_population"],[18,2,1,"","get_variable_population"],[18,2,1,"","invalidate_cache_entry"],[18,2,1,"","invalidate_spiral_variables"],[18,2,1,"","link_to_entities_instances"],[18,2,1,"","map_result"],[18,2,1,"","purge_cache_of_invalid_values"],[18,2,1,"","set_input"],[18,4,1,"","trace"],[18,2,1,"","trace_parameters_at_instant"]],"policyengine_core.simulations.simulation_builder":[[18,1,1,"","SimulationBuilder"]],"policyengine_core.simulations.simulation_builder.SimulationBuilder":[[18,2,1,"","add_default_group_entity"],[18,2,1,"","add_group_entity"],[18,2,1,"","add_parallel_axis"],[18,2,1,"","add_perpendicular_axis"],[18,2,1,"","add_person_entity"],[18,2,1,"","add_variable_value"],[18,2,1,"","build"],[18,2,1,"","build_default_simulation"],[18,2,1,"","build_from_dict"],[18,2,1,"","build_from_entities"],[18,2,1,"","build_from_variables"],[18,2,1,"","check_persons_to_allocate"],[18,2,1,"","create_entities"],[18,2,1,"","declare_entity"],[18,2,1,"","declare_person_entity"],[18,2,1,"","expand_axes"],[18,2,1,"","explicit_singular_entities"],[18,2,1,"","finalize_variables_init"],[18,2,1,"","get_count"],[18,2,1,"","get_ids"],[18,2,1,"","get_input"],[18,2,1,"","get_memberships"],[18,2,1,"","get_roles"],[18,2,1,"","get_variable_entity"],[18,2,1,"","init_variable_values"],[18,2,1,"","join_with_persons"],[18,2,1,"","nb_persons"],[18,2,1,"","raise_period_mismatch"],[18,2,1,"","register_variable"],[18,2,1,"","set_default_period"]],"policyengine_core.simulations.weighted_simulation":[[18,1,1,"","WeightedSimulation"]],"policyengine_core.simulations.weighted_simulation.WeightedSimulation":[[18,2,1,"","build_from_dataset"],[18,2,1,"","build_from_populations"],[18,2,1,"","calculate"],[18,2,1,"","calculate_add"],[18,2,1,"","calculate_dataframe"],[18,2,1,"","calculate_divide"],[18,2,1,"","calculate_output"],[18,2,1,"","clone"],[18,2,1,"","create_shortcuts"],[18,4,1,"","data_storage_dir"],[18,2,1,"","delete_arrays"],[18,2,1,"","describe_entities"],[18,2,1,"","get_array"],[18,2,1,"","get_entity"],[18,2,1,"","get_holder"],[18,2,1,"","get_known_periods"],[18,2,1,"","get_memory_usage"],[18,2,1,"","get_population"],[18,2,1,"","get_variable_population"],[18,2,1,"","get_weights"],[18,2,1,"","invalidate_cache_entry"],[18,2,1,"","invalidate_spiral_variables"],[18,2,1,"","link_to_entities_instances"],[18,2,1,"","map_result"],[18,2,1,"","purge_cache_of_invalid_values"],[18,2,1,"","set_input"],[18,4,1,"","trace"],[18,2,1,"","trace_parameters_at_instant"]],"policyengine_core.taxbenefitsystems.tax_benefit_system":[[19,1,1,"","TaxBenefitSystem"]],"policyengine_core.taxbenefitsystems.tax_benefit_system.TaxBenefitSystem":[[19,2,1,"","add_variable"],[19,2,1,"","add_variables"],[19,2,1,"","add_variables_from_directory"],[19,2,1,"","add_variables_from_file"],[19,2,1,"","apply_reform"],[19,2,1,"","get_package_metadata"],[19,2,1,"","get_parameters_at_instant"],[19,2,1,"","get_variable"],[19,2,1,"","get_variables"],[19,2,1,"","load_extension"],[19,2,1,"","load_parameters"],[19,2,1,"","neutralize_variable"],[19,3,1,"","parameters"],[19,2,1,"","replace_variable"],[19,2,1,"","update_variable"]],"policyengine_core.taxscales.abstract_rate_tax_scale":[[20,1,1,"","AbstractRateTaxScale"]],"policyengine_core.taxscales.abstract_rate_tax_scale.AbstractRateTaxScale":[[20,2,1,"","bracket_indices"],[20,2,1,"","threshold_from_tax_base"]],"policyengine_core.taxscales.abstract_tax_scale":[[20,1,1,"","AbstractTaxScale"]],"policyengine_core.taxscales.amount_tax_scale_like":[[20,1,1,"","AmountTaxScaleLike"]],"policyengine_core.taxscales.linear_average_rate_tax_scale":[[20,1,1,"","LinearAverageRateTaxScale"]],"policyengine_core.taxscales.linear_average_rate_tax_scale.LinearAverageRateTaxScale":[[20,2,1,"","bracket_indices"],[20,2,1,"","threshold_from_tax_base"]],"policyengine_core.taxscales.marginal_amount_tax_scale":[[20,1,1,"","MarginalAmountTaxScale"]],"policyengine_core.taxscales.marginal_amount_tax_scale.MarginalAmountTaxScale":[[20,2,1,"","calc"]],"policyengine_core.taxscales.marginal_rate_tax_scale":[[20,1,1,"","MarginalRateTaxScale"]],"policyengine_core.taxscales.marginal_rate_tax_scale.MarginalRateTaxScale":[[20,2,1,"","bracket_indices"],[20,2,1,"","calc"],[20,2,1,"","inverse"],[20,2,1,"","marginal_rates"],[20,2,1,"","rate_from_bracket_indice"],[20,2,1,"","rate_from_tax_base"],[20,2,1,"","scale_tax_scales"],[20,2,1,"","threshold_from_tax_base"]],"policyengine_core.taxscales.rate_tax_scale_like":[[20,1,1,"","RateTaxScaleLike"]],"policyengine_core.taxscales.rate_tax_scale_like.RateTaxScaleLike":[[20,2,1,"","bracket_indices"],[20,2,1,"","threshold_from_tax_base"]],"policyengine_core.taxscales.single_amount_tax_scale":[[20,1,1,"","SingleAmountTaxScale"]],"policyengine_core.taxscales.single_amount_tax_scale.SingleAmountTaxScale":[[20,2,1,"","calc"]],"policyengine_core.taxscales.tax_scale_like":[[20,1,1,"","TaxScaleLike"]],"policyengine_core.tools.simulation_dumper":[[21,0,1,"","dump_simulation"],[21,0,1,"","restore_simulation"]],"policyengine_core.tools.test_runner":[[21,0,1,"","run_tests"]],"policyengine_core.tracers.computation_log":[[22,1,1,"","ComputationLog"]],"policyengine_core.tracers.computation_log.ComputationLog":[[22,2,1,"","print_log"]],"policyengine_core.tracers.flat_trace":[[22,1,1,"","FlatTrace"]],"policyengine_core.tracers.full_tracer":[[22,1,1,"","FullTracer"]],"policyengine_core.tracers.performance_log":[[22,1,1,"","PerformanceLog"]],"policyengine_core.tracers.simple_tracer":[[22,1,1,"","SimpleTracer"]],"policyengine_core.tracers.trace_node":[[22,1,1,"","TraceNode"]],"policyengine_core.tracers.tracing_parameter_node_at_instant":[[22,1,1,"","TracingParameterNodeAtInstant"]],"policyengine_core.variables.variable":[[24,1,1,"","Variable"]],"policyengine_core.variables.variable.Variable":[[24,3,1,"","baseline_variable"],[24,3,1,"","default_value"],[24,3,1,"","definition_period"],[24,3,1,"","documentation"],[24,3,1,"","dtype"],[24,3,1,"","end"],[24,3,1,"","entity"],[24,3,1,"","formulas"],[24,2,1,"","get_formula"],[24,2,1,"","get_introspection_data"],[24,2,1,"","is_input_variable"],[24,3,1,"","is_neutralized"],[24,3,1,"","json_type"],[24,3,1,"","label"],[24,3,1,"","max_length"],[24,3,1,"","name"],[24,2,1,"","parse_formula_name"],[24,3,1,"","possible_values"],[24,3,1,"","quantity_type"],[24,3,1,"","reference"],[24,3,1,"","set_input"],[24,3,1,"","unit"],[24,3,1,"","value_type"]],"policyengine_core.warnings":[[25,1,1,"","LibYAMLWarning"],[25,1,1,"","MemoryConfigWarning"],[25,1,1,"","TempfileWarning"]],"policyengine_core.warnings.LibYAMLWarning":[[25,2,1,"","with_traceback"]],"policyengine_core.warnings.MemoryConfigWarning":[[25,2,1,"","with_traceback"]],"policyengine_core.warnings.TempfileWarning":[[25,2,1,"","with_traceback"]]},objnames:{"0":["py","function","Python function"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","attribute","Python attribute"],"4":["py","property","Python property"]},objtypes:{"0":"py:function","1":"py:class","2":"py:method","3":"py:attribute","4":"py:property"},terms:{"0":[2,6,7,14,16,19,20,22],"00000286102295":28,"0001":24,"01":[11,12,13,14,24,28],"02":13,"04":[11,18],"05":18,"07":11,"1":[2,13,14,18,20,28],"10":[2,11,13,18,20],"100":[4,11,20],"1000":16,"10400":11,"10_000":28,"11":18,"12":[11,13,18],"12000":18,"13":18,"14":[11,18],"15":2,"150":20,"1500":[14,28],"17":19,"1800":14,"1_000":20,"1_150":20,"1e6":28,"1st":14,"2":[2,7,11,13,14,19],"20":2,"200":[4,20],"2000":[14,18],"2010":13,"2011":13,"2012":13,"2013":13,"2014":13,"2015":[12,13],"2016":[12,18],"2017":[11,13],"2018":[11,14,18],"2022":[4,28],"24":11,"25":20,"250":20,"28":13,"29":13,"3":[13,14,22],"30":13,"300":4,"31":13,"32":14,"34":14,"35":6,"3500":14,"365":13,"366":13,"4":[2,13,14,18],"45":28,"450":20,"4kb":11,"5":[2,18,20],"50":20,"500":[20,28],"550":12,"6":2,"600":12,"64":11,"7":[2,6],"8":[2,11,14],"80":2,"8b":11,"90":2,"byte":[5,11,12,14,18],"case":[11,12,18,27,28],"class":[2,3,4,5,6,7,8,9,11,12,13,14,15,16,18,19,20,22,23,24,25,27,28],"default":[4,11,14,18,19,22,24,26,27],"do":[26,28],"enum":24,"float":[2,5,9,11,12,14,18,20,22,24],"function":[1,2,6,11,12,14,16,17,18,20,21,24],"import":[16,18,20,27,28],"int":[4,5,7,11,12,13,14,18,20,24],"new":[3,4,9,10,11,12,13,16,19,20,27],"return":[2,4,7,11,12,13,14,16,18,19,20,21,24,25,28],"static":12,"true":[4,13,14,18,19,22,24],"try":19,A:[1,2,4,6,11,12,13,16,18,19,21,24],As:28,At:4,By:24,For:[4,7,13,15,20,24],If:[0,4,11,12,14,18,19,20,21,22,24,26,28],In:[11,12,16],It:[1,3,4,19],The:[1,2,3,4,5,6,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],Then:[20,28],There:[11,18],To:[3,10,11,18,26,27,28],__init__:27,__traceback__:25,_array_lik:[5,11,12,14,18],_ndarrai:[2,4,18],_number:2,_object:[2,4,18],_supportsarrai:[5,11,12,14,18],_unicod:2,abc:[12,20],abl:[11,12,18],about:[0,11,15,18,24],absolut:19,abstract_rate_tax_scal:20,abstract_tax_scal:20,accept:[11,18],access:[4,12],accord:14,account:14,action:[0,26],actual:28,ad:[0,6,8,19],add:[12,16,18,19],add_bracket:20,add_child:[12,16],add_default_group_ent:18,add_group_ent:18,add_parallel_axi:18,add_perpendicular_axi:18,add_person_ent:18,add_vari:[16,19],add_variable_valu:18,add_variables_from_directori:19,add_variables_from_fil:19,addit:26,address:0,after:11,ag:[14,18],aggreg:[18,22,26],aka:13,all:[0,4,11,12,13,14,16,18,19,20,21,26,27],allow:[6,12,15,24],alreai:18,also:[1,19,27,28],alwai:19,amount:20,amount_tax_scale_lik:20,an:[0,2,4,6,7,8,10,11,12,13,14,16,18,19,24,26,27,28],ani:[0,1,2,4,5,6,10,11,12,14,18,20,26,28],anoth:[2,12,18,20,24],anyth:12,api:27,appli:[11,12,16,19,20,26,27],apply_reform:19,appropri:11,ar:[0,1,2,4,5,6,7,8,11,12,14,18,19,20,22,24,27],arbitrari:14,arbitrarili:27,aren:9,around:12,arr:18,arrai:[2,4,7,11,14,18,20,22,28],arraylik:[4,18],asarrai:7,ask:[0,15,16,28],assertionerror:[2,21],associ:18,assum:[14,20],at_instant_lik:12,attempt:26,attribut:[11,18,19,24],attribute_nam:24,attributeerror:8,automat:[24,26],avail:[26,27],averag:[11,20,22],avg:26,axi:18,back:0,base:[2,3,4,5,6,7,8,9,11,12,13,14,18,19,20,22,24,25],baselin:16,baseline_vari:24,been:[8,11,12,18,19,24],below:21,benefit:[1,8,15,21],between:[6,11],bool:[4,5,6,11,13,18,19,20,21,24],bracket:[12,20],bracket_indic:20,bucket:4,bucket_nam:4,bug:0,build:[1,4,18,26],build_default_simul:18,build_from_dataset:18,build_from_dict:18,build_from_ent:18,build_from_nod:12,build_from_popul:18,build_from_vari:18,built:19,c:[2,26],cach:[14,18],calc:20,calcul:[1,5,6,11,18,22,24,26,27,28],calculate_add:18,calculate_datafram:18,calculate_divid:18,calculate_output:18,call:[16,28],callabl:[14,16],can:[0,1,6,7,11,12,13,16,18,19,21,24,27,28],cannot:8,cast:12,categor:[7,24],cell:20,cell_siz:11,chang:[0,6,12],check:[4,11,12,14,18,27,28],check_array_compatible_with_ent:14,check_exist:[6,19],check_node_vectoris:12,check_period_valid:14,check_persons_to_alloc:18,check_role_valid:6,check_variable_defined_for_ent:6,child:[12,14,15],child_at_inst:12,child_nam:12,children:22,choic:[2,26],choos:2,chosen:2,chronolog:12,classmethod:[7,24],clone:[11,12,14,18],close:0,cloud:4,code:[3,8,10,24,26,27,28],com:19,combin:18,command:17,comment:24,common:28,complet:0,complex:[5,11,12,14,18],compos:20,comput:[1,11,19,20,22,24,28],computation_log:22,concaten:2,condit:[2,14],conflict:12,contain:[2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],containing_ent:6,content:[3,10],context:24,convent:24,convert:13,copi:[3,10,11,18,27],core:[1,4,18,26,28],correspond:[7,24],could:[4,12,28],count:[13,18],countri:[1,4,10,18,19,26,28],country_dir:27,country_packag:26,country_package_nam:4,country_templ:[3,18,27,28],countrytaxbenefitsystem:[10,18,27],cover:0,creat:[3,10,13,18],create_disk_storag:11,create_ent:18,create_shortcut:18,criteria:14,csv:26,current:[1,4,12,19],custom:[1,25],d:[0,26],dai:[13,24],data:[1,7,11,12,18,19,21,24,27,28],data_storag:[5,11],data_storage_dir:18,data_typ:[4,18],datafram:18,dataset:[18,26,27,28],dataset_opt:18,date:[13,24],datetim:13,dd:[19,24],debug:18,debugg:26,decim:20,declar:[11,28],declarant_princip:15,declare_ent:18,declare_person_ent:18,decod:7,decode_to_str:7,decrement:13,def:16,default_arrai:11,default_valu:24,defin:[1,4,6,8,10,12,13,14,18,19,24,27,28],definit:[4,7,8,11,16,18,19,24,25,27,28],definition_period:[8,11,18,24],delet:[5,18],delete_arrai:[11,18],demonstr:27,depend:[1,2,24],depth:[22,26],describ:[0,18,24],describe_ent:18,descript:[0,6,12,18,24],design:1,detail:21,detect:26,develop:1,di:18,dict:[2,4,5,11,12,18,19,21],dictionari:[4,13,18,19,28],differ:[1,6,10,11],dimens:14,dir:19,directli:27,directori:[11,12,19,21,26,27],directory_path:12,disappear:24,disk:[5,25],divid:11,doc:[6,21],document:[0,1,11,18,24],doe:[1,14,18,19,21],doesn:8,don:[0,10,14],dot:12,doubt:0,download:[4,26],drop:26,dtype:[11,14,18,24,28],e:[1,6,11,12,14,18,19,26],each:[0,1,2,11,18,22,24,27,28],earn:15,edit:16,effect:[19,26],either:[2,13],eldest:14,els:0,employment_incom:4,employment_income_in_2022:4,empti:2,empty_arrai:14,enabl:[1,27],encod:7,encoded_arrai:7,end:[4,22,24],enough:[11,18],entir:[6,22,26],entiti:[1,4,11,14,15,18,19,24,27,28],entity_id:18,entity_nam:18,entity_plur:18,entity_singular:18,enum34:7,enum_arrai:7,enum_item_arrai:7,enumer:7,environ:26,err:0,error:[19,26],etc:[6,11],etern:24,evalu:12,everi:18,everyon:19,everyth:28,exampl:[0,2,4,11,13,14,15,16,18,19,22,27,28],excecut:21,except:[8,19,25],execut:26,exist:[4,10,14,18,19,28],expand_ax:18,explicit:[18,19],explicit_singular_ent:18,explor:[19,21],express:20,extens:[19,26],extension_templ:10,extra:28,extract:13,factor:20,factori:22,fail:0,failur:26,fals:[4,5,6,11,14,18,19,20,22,26],famil:15,famili:15,fanci:12,featur:[0,4],feel:0,few:28,field:24,file:[0,4,8,12,19,21,24,26,27],file_path:[12,16,19],filenam:4,filename_by_year:4,filenotfounderror:4,fill:11,filled_arrai:14,finalize_variables_init:18,find:28,first:[13,18],first_dai:13,first_month:13,first_person:15,fit:20,fix:0,flag:26,flat:1,flat_trac:22,float32:28,float64:[7,11,20],float_:20,flow:24,focu:26,folder:[3,10,18,27],follow:27,fork:[1,4],format:[13,19,24],former:28,formula:[15,18,24],formula_period:18,formula_yyyi:24,formula_yyyy_mm:24,formula_yyyy_mm_dd:24,found:[0,4,8,19],frame:18,framework:1,franc:19,free:[0,7,24],free_lodg:7,from:[2,4,7,10,12,13,16,18,19,20,21,24,27,28],full:[6,28],full_trac:22,fulli:[9,18],futur:9,g:[1,6,11,12,14,19],gener:[1,4,5,11,12,14,18,19,27,28],get:[5,11,14,18,19,24],get_arrai:[11,18],get_at_inst:12,get_count:18,get_descend:12,get_ent:18,get_file_path:4,get_formula:24,get_hold:[14,18],get_id:18,get_index:14,get_input:18,get_introspection_data:24,get_known_period:[5,11,18],get_membership:18,get_memory_usag:[5,11,14,18],get_package_metadata:19,get_parameters_at_inst:19,get_popul:18,get_rank:14,get_rol:[14,18],get_saved_dataset:4,get_subperiod:13,get_vari:[6,19],get_variable_ent:18,get_variable_popul:18,get_weight:18,github:[0,19],given:[2,4,11,12,13,14,18,19,20,24,26,28],global:1,googl:4,gov:12,graph:26,gross:20,gross_revenu:20,group:[6,14,18],group_ent:6,group_popul:[14,18],groupent:14,grouppopul:[15,18],guarante:6,h:26,ha:[0,8,11,12,14,18,19,24,26,27],handl:[5,13,18,28],has_rol:14,have:[0,1,7,10,11,14,19,24,28],hear:0,help:0,helper:[1,6,11,12,13],here:4,hold:27,holder:[14,18],hood:24,hous:9,household:[6,7,14,18,24],housing_benefit:12,housing_occupancy_statu:7,housingoccupancystatu:7,how:[6,12,18,28],html:26,http:[12,19],i:[18,26],id:14,identifi:[6,7],ignor:26,ignore_vari:26,implement:[4,12,16,27],improv:7,in_memory_storag:5,includ:[0,1,4,11,17,21,28],incom:[12,28],income_tax:[12,28],increas:26,increment:13,index:[7,12,18,19],indexed_enum:7,indic:20,individu:25,infer:18,inherit:[4,28],init_variable_valu:18,initi:18,initialis:[10,18],input:[2,4,7,8,11,18,19,20,24,28],input_arrai:7,input_dict:18,inspect:28,instal:[19,25,26],installed_packag:19,instanc:[6,7,11,12,13,15,16,18,19,20,24],instance_id:18,instance_index:18,instance_object:18,instances_json:18,instant:[12,18,19],instant_:[12,13,19],instant_str:[8,12],instanti:[4,12],instead:[1,14,27],instrospect:24,int32:18,int64:[7,20],int_:[7,20],integ:[13,20],intend:[3,10],interact:27,interfac:[17,28],interfer:12,intermedi:18,intersect:13,interv:13,introduc:24,intuit:28,invalid:18,invalidate_cache_entri:18,invalidate_spiral_vari:18,invers:20,inversion_revenu:19,invert:20,involv:22,is_child:14,is_etern:5,is_input_vari:24,is_neutr:24,is_person:6,isn:0,issu:0,item:[2,7],iter:[12,13,18],its:[8,11,14,19,24],javier:18,join_with_person:18,json:[18,24,27],json_typ:24,just:[11,18],keep:[11,20],kei:[4,6,13,18,21],keyword:26,known:[11,18],kwarg:21,label:[4,6,24],larg:[4,22,27],larger:[11,18],last:13,last_3_month:13,last_month:13,last_year:13,later:21,latter:28,law:28,layperson:0,least:0,legisl:[12,16,19,24],length:[11,24],level:5,liabil:1,librari:2,libyaml:25,like:0,limit:24,line:[17,24,28],linear:20,linear_average_rate_tax_scal:20,link_to_entities_inst:18,list:[2,4,5,6,9,11,12,13,14,18,19,21,22,26,27],ll:[27,28],load:[4,12,19,26,28],load_extens:19,load_paramet:19,load_parameter_fil:16,locat:19,lodger:7,log:22,logic:[1,4,18,19,27],low:5,lower:4,lowest:20,mai:[9,11,18],main:24,mainli:12,maintain:[0,1],make:[0,2,16],manag:26,mani:1,map:[14,18],map_result:18,map_to:18,margin:[12,20],marginal_amount_tax_scal:20,marginal_r:20,marginal_rate_tax_scal:20,mask:14,match:[2,4,8,11,18,20,24],max:[14,24,26],max_depth:[22,26],max_length:24,max_memory_occup:9,maxim:26,maximum:[14,22],member:[6,14],members_entity_id:14,members_posit:14,members_rol:14,memori:[5,11,18],memory_config:9,memoryconfig:25,merg:12,messag:8,metadata:[12,19,24],metatada:19,method:[11,14,16,18,28],microdata:4,microdatafram:18,microdf:[18,28],microseri:[18,28],microsimul:[1,4,27,28],might:15,mimick:2,min:[14,26],minim:24,minimum:[14,22],miscellan:21,mm:[19,24],mode:22,model:[1,3,10,18,28],modif:16,modifi:[11,12,16,18],modifier_funct:16,modify_my_paramet:16,modify_paramet:16,modul:[2,3,4,5,6,10,12,13,15,16,17,18,19,20,21,22,23,24,25,27],month:[13,18,24],more:[11,18,21,22,24],most:[18,27,28],multilin:24,must:[10,12,14,16,19],mutat:19,myreform:16,n:[14,26],n_2:13,name:[3,4,8,10,12,16,18,19,20,22,24],name_filt:[21,26],nan_creation_error:8,nation:4,nb_arrai:11,nb_cells_by_arrai:11,nb_person:[14,18],nb_request:11,nb_requests_by_arrai:11,ndarrai:[2,4,7,14,18,20],necessari:0,need:[4,26,27,28],net:20,neutral:[19,24],neutral_el:14,neutralize_vari:19,never:24,new_paramet:16,nikhilwoodruff:0,node:[12,20],none:[2,4,5,6,7,8,9,11,12,13,14,15,16,18,19,20,21,22,24],note:14,noth:24,np:18,nptype:[2,4,18],nth:14,number:[2,13,14,21,24],numer:20,numericalarrai:20,numpi:[2,5,7,11,12,14,18,20,24],o:26,object:[2,4,5,6,9,11,12,14,16,18,19,22,24],object_:7,offset:13,oldest:24,on_disk_storag:[5,11],ondiskstorag:11,one:[0,2,8,18,19,20],onli:[11,14,19,22,24,26],only_vari:26,open:1,openfisca:[1,4,19,24,26],openfisca_fr:19,openfisca_test:21,oper:12,option:[4,5,6,7,9,11,12,13,14,18,19,20,21,22,26],order:[12,14],ordered_members_map:14,organis:27,origin:[4,11,18],other:[1,6,12,13,24,25,27,28],otherwis:4,our:[11,28],output:26,over:12,overridden:19,overwrit:[4,18],owner:7,p:26,packag:[1,4,10,18,19,26,28],page:28,panda:[18,28],param:20,paramet:[1,2,4,6,7,8,11,16,18,19,20,21,22,24,27],parameter_at_inst:12,parameter_nod:[12,16],parameter_node_at_inst:[12,19,22],parameter_not_found_error:8,parameter_parsing_error:8,parameter_scal:12,parameter_scale_bracket:12,parameternod:16,parameternodeatinst:[19,22],parent:[14,15,18,22],pars:8,parse_formula_nam:24,partial:26,particular:[15,28],pass:[0,18,21,26,28],path:[4,8,19,21,24,26,27],path_to_yaml_dir:19,path_to_yaml_fil:16,pathlib:4,pattern:12,pd:18,pdb:26,peopl:14,perform:[7,26],performance_graph:26,performance_log:22,period:[1,4,5,7,8,11,12,14,16,18,19,22,24,28],period_:[4,5,11,13,14,18],period_mismatch_error:8,period_str:18,person:[1,6,11,14,15,18,19,24,28],person_id:18,person_singular:18,persons_group_assign:18,persons_id:18,persons_plur:18,persons_to_alloc:18,ping:0,pip:19,pleas:0,plugin:10,plural:[6,18],pluralis:6,point:[1,3,13,19],polici:[1,27],policyengin:[1,26,28],policyengine_cor:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,27,28],popul:[11,15,18,22],posit:[14,18],possibl:[2,24,26],possible_valu:[7,24],power:[1,17],pre:18,preprocess:18,preserv:11,preserve_storage_dir:5,previous:[18,19],primarili:0,print:22,print_log:22,priority_vari:9,privat:4,process:[1,24],project:[0,14],properti:[1,11,13,14,18],protocol:12,provid:[1,4,8,14,26],publicli:4,purge_cache_of_invalid_valu:18,purpos:[27,28],put:5,put_in_cach:11,py:27,python:[1,17,18,24,26,27,28],quantity_typ:24,queri:8,question:15,quickli:27,r:26,rais:[2,4,8,18,19,21,25],raise_period_mismatch:18,rank:14,rate:[1,12,20],rate_from_bracket_indic:20,rate_from_tax_bas:20,rate_tax_scale_lik:20,rather:10,raw:4,re:[0,28],read:[11,18],recurs:[12,19,21],reduc:14,refer:[12,24],reform:[19,24,26,27],reform_nam:16,reform_path:19,register_vari:18,rel:19,relat:[6,15,27],relev:20,remov:[3,4,9,10,11,12,26],remove_al:4,renam:[3,7,10],replac:[2,12,16,19,24,27],replace_vari:19,repo:[3,10,18,27],repositori:28,repository_url:19,repres:[4,6,7,11,18,19,20,22,23,28],request:[11,12,19],requir:[1,4,15,18],respect:[1,14,19],respond:0,respons:[5,27],rest:2,restor:[5,21],result:[14,18,28],retriev:5,revenu:20,revers:[12,14],revolv:12,right:20,role:[14,15,18,21],role_id:18,role_nam:14,round:20,round_base_decim:20,round_decim:20,run:[4,6,11,18,21,26],runner:17,s:[1,6,11,15,18,19,27,28],said:15,salari:[12,14,18,28],same:[2,8,16,19,27],satur:18,save:4,scale:12,scale_tax_scal:20,scan:26,secondari:24,see:[0,7,14,19,21,24],select:2,self:[4,7,13,16,19,25],sens:0,sequenc:[2,4,5,11,12,14,18,19],seri:28,set:[1,4,8,11,12,14,18,19,20,22,25,26,27],set_default_period:18,set_input:[11,18,24],set_input_dispatch_by_period:24,set_input_divide_by_period:24,set_tax_benefit_system:6,sever:[6,24],shortcut:18,should:[0,12,16,18],show:28,side:0,sim:28,simpl:28,simple_trac:22,simpli:[3,10,19],simplifi:1,simul:[1,4,5,8,11,14,21,22,24,27],simulation_build:18,simulation_dump:21,sinc:13,singl:[18,20],single_amount_tax_scal:20,singular:18,situat:[8,18,27,28],situation_exampl:27,situation_parsing_error:8,size:[2,13],size_in_dai:13,size_in_month:13,so:[14,21,28],some:19,some_other_vari:16,some_param:[12,16],some_period:16,some_tax:[12,16],some_vari:16,someon:0,sometim:0,sort:14,sourc:[1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,18,19,20,21,22,24,25],source_ent:18,specif:[1,8,10,11,25,27],specifi:[4,7,14,18,26,28],spiral_error:8,stabl:9,stai:19,standalon:10,standardis:4,start:[3,12,13,22,24],start_inst:13,starter:[3,10],statement:2,stock:24,stop:[12,13],storag:4,storage_dir:5,store:[4,5,11,18,19],str:[2,4,5,6,9,11,12,13,14,18,19,20,21,22,24],str_:7,string:[7,24],string_identifier_arrai:7,structur:[18,27],sub_modul:19,subclass:[7,16,19],subdirectori:21,subperiod:11,sucess:21,suit:22,sum:[14,20,28],summari:6,superset:6,sure:[0,28],survei:28,system:[1,8,21],t:[0,2,4,8,9,10,14,18,27],tabl:26,take:[11,16,24],taken:14,target:18,target_ent:18,tax:[1,8,12,16,21,28],tax_bas:20,tax_benefit_system:[3,6,8,16,18,19,21,24],tax_scal:20,tax_scale_lik:20,taxbenefitsystem:[3,8,16,18,21],taxscal:20,tb:25,tell:0,tempfil:25,temporari:18,term:20,test:[0,17,21,27],test_runn:21,text:24,than:[10,19],that2:2,thei:11,thi:[0,1,2,4,6,11,12,14,16,18,22,26,27,28],this1:2,this_year:13,those:27,three:28,threshold:[2,20],threshold_from_tax_bas:20,throughout:2,time:[1,4,11,12,13,28],time_period:28,tool:26,toolbox:13,total_nb_byt:11,toward:[19,21],trace:[1,18,26],trace_nod:22,trace_parameters_at_inst:18,traceback:8,tracing_parameter_node_at_inst:22,track:[11,22],treat:28,tree:[1,12,27],tri:8,trigger:18,tripl:13,tupl:[13,24],twice:11,two:[2,5,8,14],type:[1,2,4,5,6,7,11,12,14,16,18,19,20,21,22,24],u:18,uk:1,unchang:19,under:[24,28],unicod:2,union:[2,4,5,7,11,12,14,18,22],uniqu:14,unit:[13,20,24],unknown:[18,28],unlik:[10,18],up:[22,26],updat:[12,16,19],update_vari:[16,19],upload:[4,26],url:4,url_by_year:4,us:[0,1,2,3,4,5,7,10,11,12,13,14,16,18,19,20,21,22,23,24,25,26,27,28],usabl:27,usag:[11,18,24,26],user:[1,4,27],userwarn:25,util:21,v:26,valid:[12,24],valu:[1,2,4,5,7,8,11,12,13,14,16,18,19,20,22,24,26,27],value_by_condit:2,value_from_first_person:14,value_from_partn:14,value_from_person:14,value_nth_person:14,value_typ:24,valueerror:[8,18],values_list:12,variabl:[1,4,8,11,14,16,18,19,20,22,23,26,27,28],variable_nam:[6,8,14,18,19,28],variable_name_conflict_error:8,variable_not_found_error:8,variablenameconflicterror:19,variables_to_drop:9,varieti:18,variou:[12,20],ve:0,vector:[5,12,14,22],vectori:12,vectorial_parameter_node_at_inst:[12,22],vectorialparameternodeatinst:22,verbos:[21,26],version:[6,9,19],virtual:[11,18],wa:12,want:27,warn:19,we:28,week:0,weight:[18,28],weighted_simul:18,weightedsimul:28,welcom:0,well:[24,28],were:28,what:[0,14,28],when:[2,8,18,19,20,24,25],where:[12,13,18,24],whether:24,which:[1,4,6,7,10,11,12,14,16,18,22,24,26,27,28],who:14,whose:[6,7,11,14,18,20],why:0,with_traceback:25,within:[0,2,14,20],without:[0,11,12,18,26],won:27,word:26,work:28,would:[11,28],write:[0,4,21,26],yaml:[12,16,19,21,26],year:[4,13,24],yet:9,you:[0,27,28],your:[0,3,10,26],yyyi:[19,24],zipcod:12},titles:["How to contribute","Introduction","Commons","Country template","Data","Data storage","Entities","Enums","Errors","Experimental features","Extension template","Holders","Parameters","Periods","Populations","Projectors","Reforms","Scripts","Simulations","Tax-benefit systems","Tax scales","Tools","Tracers","Types","Variables","Warnings","Command-line interface","Country packages","Simulating policy"],titleterms:{"enum":7,"switch":2,abstractratetaxscal:20,abstracttaxscal:20,amounttaxscalelik:20,apply_threshold:2,argument:26,atinstantlik:12,benefit:19,build_ent:6,command:26,common:2,computationlog:22,concat:2,contains_nan:12,contribut:0,countri:[3,27],countrytaxbenefitsystem:3,creat:27,data:[4,5,26],dataset:4,dump_simul:21,entiti:6,entitytopersonprojector:15,enumarrai:7,error:8,experiment:9,extens:10,featur:9,firstpersontoentityprojector:15,flattrac:22,formula:2,fulltrac:22,groupent:6,grouppopul:14,holder:11,household:28,how:0,individu:28,inmemorystorag:5,instant:13,interfac:26,introduct:1,libyamlwarn:25,line:26,linearaverageratetaxscal:20,load_parameter_fil:12,marginalamounttaxscal:20,marginalratetaxscal:20,memoryconfig:9,memoryconfigwarn:25,name:26,nancreationerror:8,ondiskstorag:5,over:28,packag:27,paramet:12,parameteratinst:12,parameternod:12,parameternodeatinst:12,parameternotfounderror:8,parameterparsingerror:8,parameterscal:12,parameterscalebracket:12,performancelog:22,period:13,periodmismatcherror:8,polici:28,popul:[14,28],posit:26,privatedataset:4,projector:15,publicdataset:4,pull:0,ratetaxscalelik:20,reform:16,request:0,restore_simul:21,role:6,run_test:21,scale:20,script:17,set_input_dispatch_by_period:11,set_input_divide_by_period:11,simpletrac:22,simul:[18,28],simulationbuild:18,singleamounttaxscal:20,situationparsingerror:8,spiralerror:8,storag:5,sub:26,system:19,tax:[19,20],taxbenefitsystem:19,taxscalelik:20,tempfilewarn:25,templat:[3,10],test:26,tool:21,tracenod:22,tracer:22,tracingparameternodeatinst:22,type:23,uniqueroletoentityprojector:15,variabl:24,variablenameconflicterror:8,variablenotfounderror:8,vectorialparameternodeatinst:12,warn:25,weightedsimul:18}})